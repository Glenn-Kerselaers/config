[gcode_macro CG28]
description: Conditional G28 (home if not already homed).
gcode:
	{% if "xyz" not in printer.toolhead.homed_axes %}
		G28
	{% endif %}
	
[gcode_macro XYCG28]
description: Conditional G28 (home if not already homed).
gcode:
	{% if "xy" not in printer.toolhead.homed_axes %}
		G28 X Y
	{% endif %}

[gcode_macro ZCG28]
description: Conditional G28 (home if not already homed).
gcode:
	{% if "z" not in printer.toolhead.homed_axes %}
		G28 Z
	{% endif %}